<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:jaxws="http://cxf.apache.org/jaxws"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans.xsd
		http://cxf.apache.org/jaxws
		http://cxf.apache.org/schemas/jaxws.xsd">

	<import resource="classpath:META-INF/cxf/cxf.xml" />
	<import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" />
	<import resource="classpath:META-INF/cxf/cxf-servlet.xml" />

	<bean id="bantelV1Backoffice" class="net.conselldemallorca.helium.ws.backoffice.BantelV1Backoffice"/>
	<jaxws:endpoint 
		implementor="#bantelV1Backoffice" 
		address="/NotificacioEntrada">
		<jaxws:inInterceptors>
			<!--bean class="org.apache.cxf.interceptor.LoggingInInterceptor" /-->
			<bean class="org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor">
				<constructor-arg>
					<map>
						<entry key="action" value="Timestamp UsernameToken" />
						<entry key="passwordType" value="PasswordText" />
						<entry key="passwordCallbackRef">
							<bean
								class="net.conselldemallorca.helium.core.util.ws.ServerPasswordCallback">
								<property name="userName" value="${app.bantel.avisos.username}" />
								<property name="password" value="${app.bantel.avisos.password}" />
							</bean>
						</entry>
					</map>
				</constructor-arg>
			</bean>
		</jaxws:inInterceptors>
		<!--jaxws:outInterceptors>
			<bean class="org.apache.cxf.interceptor.LoggingOutInterceptor" />
		</jaxws:outInterceptors-->
	</jaxws:endpoint>
	<bean id="bantelV2Backoffice" class="net.conselldemallorca.helium.ws.backoffice.BantelV2Backoffice"/>
	<jaxws:endpoint 
		implementor="#bantelV2Backoffice" 
		address="/NotificacioEntradaV2">
		<jaxws:inInterceptors>
			<!--bean class="org.apache.cxf.interceptor.LoggingInInterceptor" /-->
			<bean class="org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor">
				<constructor-arg>
					<map>
						<entry key="action" value="Timestamp UsernameToken" />
						<entry key="passwordType" value="PasswordText" />
						<entry key="passwordCallbackRef">
							<bean
								class="net.conselldemallorca.helium.core.util.ws.ServerPasswordCallback">
								<property name="userName" value="${app.bantel.avisos.username}" />
								<property name="password" value="${app.bantel.avisos.password}" />
							</bean>
						</entry>
					</map>
				</constructor-arg>
			</bean>
		</jaxws:inInterceptors>
		<!--jaxws:outInterceptors>
			<bean class="org.apache.cxf.interceptor.LoggingOutInterceptor" />
		</jaxws:outInterceptors-->
	</jaxws:endpoint>
	<bean id="bantelEsbCimBackoffice" class="net.conselldemallorca.helium.ws.backoffice.EsbCimBackoffice"/>
	<jaxws:endpoint 
		implementor="#bantelEsbCimBackoffice" 
		address="/NotificacioEntradaEsbCim">
		<jaxws:inInterceptors>
			<!--bean class="org.apache.cxf.interceptor.LoggingInInterceptor" /-->
			<bean class="org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor">
				<constructor-arg>
					<map>
						<entry key="action" value="Timestamp UsernameToken" />
						<entry key="passwordType" value="PasswordText" />
						<entry key="passwordCallbackRef">
							<bean
								class="net.conselldemallorca.helium.core.util.ws.ServerPasswordCallback">
								<property name="userName" value="${app.bantel.avisos.username}" />
								<property name="password" value="${app.bantel.avisos.password}" />
							</bean>
						</entry>
					</map>
				</constructor-arg>
			</bean>
		</jaxws:inInterceptors>
		<!--jaxws:outInterceptors>
			<bean class="org.apache.cxf.interceptor.LoggingOutInterceptor" />
		</jaxws:outInterceptors-->
	</jaxws:endpoint>

	<bean id="dominiIntern" class="net.conselldemallorca.helium.ws.domini.DominiIntern"/>
	<jaxws:endpoint 
		id="dominiInternService" 
		implementor="#dominiIntern" 
		address="/DominiIntern"/>

	<bean id="formulariExtern" class="net.conselldemallorca.helium.ws.formulari.GuardarFormulariImpl"/>
	<jaxws:endpoint 
		id="formulariExternService" 
		implementor="#formulariExtern" 
		address="/FormulariExtern"/>

	<bean id="tramitacioService" class="net.conselldemallorca.helium.ws.tramitacio.Tramitacio"/>
	<jaxws:endpoint 
		implementor="#tramitacioService" 
		address="/TramitacioService"/>

	<!--jaxws:endpoint 
		id="dominiExempleService" 
		implementor="net.conselldemallorca.helium.integracio.domini.DominiExempleImpl" 
		address="/DominiExemple"/>
	<jaxws:endpoint 
		id="dadesExpedientExempleService" 
		implementor="net.conselldemallorca.helium.integracio.dadesexp.service.DadesExpedientExempleImpl" 
		address="/DadesExpedientExemple"/>
	<jaxws:endpoint 
		id="iniciFormulariExempleService" 
		implementor="net.conselldemallorca.helium.integracio.forms.IniciFormulariExempleImpl" 
		address="/IniciFormulariExemple"/-->

</beans>
